J'ai travaill√© sur ce projet avec [**@Anto**](https://github.com/HeyAnto) et aider par le formateur [**@GuillaumePons63**](https://github.com/GuillaumePons63)  Merci :)

# Formulaire de Contact PHP
R√©alisation d'un formulaire de contact en PHP

## Description du Projet

* Ce projet est un formulaire de contact simple et s√©curis√©, d√©velopp√© en PHP. 
* Il permet aux utilisateurs de saisir leurs informations via au formulaire de contact et d'envoyer ces donn√©es via email en utilisant la biblioth√®que [**PHPMailer**](https://github.com/PHPMailer/PHPMailer).
* Le projet utilise √©galement la biblioth√®que [**PHP dotenv**](https://github.com/vlucas/phpdotenv) pour charger les variables d'environnement depuis un fichier `.env`. 
* Ce projet a √©t√© r√©alis√© dans le cadre d'un brief "R√©aliser un formulaire de contact avec PHP" [**SIMPLON**](https://www.simplon.co/).

## Pr√©requis

* **PHP 8.3.14** ou sup√©rieur
* [**Composer 2.8.5**](https://getcomposer.org/) ou sup√©rieur
* Un serveur SMTP pour l'envoi d'emails (ex: Gmail, etc.)

## Structure du Projet

```bash
 Form Contact PHP
 ‚î£ üìÇassets
  ‚îÉ ‚î£ üìú.env.exemple (modifiez les valeurs)
 ‚îÉ ‚î£ üìÇcss
 ‚îÉ ‚îÉ ‚îó üìùstyles.css
 ‚îÉ ‚îÉ üìÇimg
 ‚î£ üìÅsrc
 ‚î£ ‚öôÔ∏è.gitignore
 ‚î£ üìúcomposer.json
 ‚î£ üìúcomposer.lock
 ‚îó üìÑindex.php
 ‚îó üìÑtraitementMail.php
```

## Proc√©dure d'installation de git clone
<br>

## Cloner le d√©p√¥t GitHub :
- Ouvrez l'invite de commande <b>(cmd)</b> ou <b>Git Bash.</b><br><br>

Commencez par cloner le d√©p√¥t sur votre machine locale :

```bash
git clone https://github.com/fannysaez/Form-Contact-Php.git
cd Form-Contact-Php
```

## Installation de Composer <br>

## √âtape 1 : T√©l√©charger Composer <br>
- Sur Windows, t√©l√©chargez l'installateur Composer depuis [getcomposer.org.](https://getcomposer.org/Composer-Setup.exe). <br>

## √âtape 2: Installer Composer globalement

```bash
composer install
```

- L'installateur devrait d√©j√† avoir configur√© Composer pour √™tre accessible globalement.</b><br>

## √âtape 3: V√©rifier l'installation

```bash
composer --version
```

## Installation des packages avec Composer <br>
* Si vous d√©marrez un nouveau projet, initialisez composer dans votre r√©pertoire de projet<br>

## √âtape 1: Initialiser un projet Composer

```bash
composer init
```

## √âtape 2: Pour installer PhpMailler, utilisation de la commande suivante :

```bash
composer require phpmailer/phpmailer
```
Cela ajoutera PhpMailer √† votre projet et cr√©era un fichier <b> composer.json </b> et un dossier <b> vendor </b><br>

# Configuration des variable d'environnements avec .env <br>

## √âtape 1: Installer vlucas/phpdotenv <br>
Pour g√©rez les variables d'environnements, utilisation du package <b>vlucas/phpdotenv</b><br>

```bash
composer require vlucas/phpdotenv
```

## √âtape 2: Configuration SMTP pour PhpMailer <br>

```bash

SMTP_HOST=smtp.exemple.com
SMTP_USER=ton_email@example.com
SMTP_PASS=ton_mot_de_passe
SMTP_PORT=587

```
<br>

## √âtape 3: Cr√©er un fichier .env <br>
Cr√©ez un fichier <b>.env</b> √† la racine de votre projet et ajoutez les variables d'environnement :<br>

```bash

require __DIR__ . '/vendor/autoload.php';

$dotenv = Dotenv\Dotenv::createImmutable(__DIR__);
$dotenv->load();

// R√©cup√©ration des variables d'environnement
$mailHost = $_ENV['SMTP_HOST'];
$mailUser = $_ENV['SMTP_USER'];
$mailPass = $_ENV['SMTP_PASS'];
$mailPort = $_ENV['SMTP_PORT'];

```
<br>

# V√©rification d'installation <b>PhpMailer</b> & <b>phpdotenv</b><br>

```bash
composer show phpmailer/phpmailer
composer show vlucas/phpdotenv

```
<br>


## Utilisation de PhpMailer : </br>
# Envoi d'e-mail avec SMTP <br>

``` bash

<?php
use PHPMailer\PHPMailer\PHPMailer;
use PHPMailer\PHPMailer\Exception;

require 'vendor/autoload.php'; // Si install√© avec Composer

$mail = new PHPMailer(true);

try {
    // Configuration du serveur SMTP
    $mail->isSMTP();
    $mail->Host       = 'smtp.gmail.com'; // Serveur SMTP
    $mail->SMTPAuth   = true;
    $mail->Username   = 'ton-email@gmail.com'; // Ton email
    $mail->Password   = 'ton-mot-de-passe'; // Ton mot de passe ou App Password
    $mail->SMTPSecure = PHPMailer::ENCRYPTION_STARTTLS;
    $mail->Port       = 587; 

    // Destinataire
    $mail->setFrom('ton-email@gmail.com', 'Ton Nom');
    $mail->addAddress('destinataire@example.com', 'Nom Destinataire');

    // Contenu de l'email
    $mail->isHTML(true);
    $mail->Subject = 'Sujet du mail';
    $mail->Body    = 'Ceci est un <b>email</b> envoy√© avec PHPMailer.';
    
    $mail->send();
    echo 'E-mail envoy√© avec succ√®s';
} catch (Exception $e) {
    echo "Erreur lors de l'envoi du mail : {$mail->ErrorInfo}";
}
?>

```

# Explication des param√®tres SMTP : <br>

* Host : smtp.gmail.com
* SMTPSecure : PHPMailer::ENCRYPTION_STARTTLS (ou PHPMailer::ENCRYPTION_SMTPS pour SSL sur le port 465)
* Port : 587 pour TLS, 465 pour SSL
* Authentification : Active avec SMTPAuth = true

## V√©rifier l'installation :<br>
Un dossier <b>vendor</b> et un fichier <b>composer.json</b> doivent maintenant √™tre pr√©sents dans votre projet.<br>
``` bash
{
    "require": {
        "phpmailer/phpmailer": "^6.8"
    }
}

```
<br>

# Explication :<br>
* require : Liste des d√©pendances du projet.
* phpmailer/phpmailer": "^6.8" : Installe la version 6.8 ou plus r√©cente.<br>

# 1. Acc√©der au formulaire de contact php<br>
* Ouvrir le fichier 
```bash 
index.php 
``` 
<br>

* Le formulaire est pr√™t √† √™tre utilis√© <br>

# 2. Soumettre le formulaire de contact <br>
* Remplir les champs requis suivant : <br>

```bash 
nom, pr√©nom, email, objet, message
```

* Cliquiez sur le bouton <b>Envoyer<b>.

# Tester l'envoi d'e-mail :<br>
* Ouvrez votre navigateur et acc√©dez √† 
``` bash
http://localhost/Form-Contact-Php/traitementMail.php.
```
<br>

* Si tout est bien configur√©, tu devrais voir le message "E-mail envoy√© avec succ√®s ‚úÖ"<br>

# 3. V√©rifier l'eamil<br>
Dans le fichier 

```bash 
traitementMail.php
```

Le destinataire √† √©t√© configur√© et recevra un mail avec toutes les informations du formulaire de contact.